# 紫薇斗数排盘插件

这是一个基于微信公众号机器人的紫薇斗数排盘插件，可以根据用户提供的生辰八字信息生成紫微斗数命盘，并提供专业解读。

## 功能特点

1. **多种输入格式支持**：支持公历/农历日期，支持多种日期格式（如"1990年1月1日"、"1990-1-1"等），支持十二地支时辰和24小时制。
2. **智能提取生辰信息**：能从自然语言中智能提取生辰八字信息。
3. **丰富的排盘结果**：支持本命盘、完整命盘（包含大运、流年等）、定制命盘。
4. **专业命盘解读**：提供基于大模型的专业命盘解读，涵盖性格、事业、财运、婚姻等方面。
5. **持续对话解读**：支持通过"继续解读"命令获取更多详细分析。

## 安装说明

1. 插件已集成在微信机器人系统中，无需额外安装。
2. 为了获得更准确的排盘结果，建议安装 `py-iztro` 库，可以通过发送"安装紫薇斗数依赖"命令进行安装。

## 使用方法

### 基本命令

1. **基本排盘**：  
   发送包含紫薇排盘关键词和生辰信息的消息，例如：  
   - `紫薇排盘 公历1990年1月1日子时 男`
   - `紫微斗数 农历1990年1月1日午时 女`

2. **本命盘查询**：  
   在命令中包含"本命"关键词，例如：  
   - `我想查看本命盘，公历1990年1月1日寅时男`

3. **命盘解读**：  
   在命令中包含"解读"、"分析"、"解释"等关键词，例如：  
   - `请帮我解读公历1990-1-1子时男生的紫薇命盘`
   - `分析我的八字，公历1985年5月5日早上7点女`

4. **继续解读**：  
   在获取基本解读后，可发送以下命令获取更多详细分析：  
   - `继续解读`
   - `接着分析`
   - `更多解读`

5. **安装依赖**：  
   如需安装真实排盘引擎，可发送：  
   - `安装紫薇斗数依赖`

### 命令参数说明

1. **性别**：男/女（必选）
2. **日期类型**：公历/农历（默认公历）
3. **日期**：支持多种格式（必选）：
   - `1990年1月1日`
   - `1990-1-1`
   - `1990.1.1`
   - `1990/1/1`
   - `19900101`
4. **时辰**：支持多种表示方式（必选）：
   - 十二地支：子、丑、寅、卯、辰、巳、午、未、申、酉、戌、亥
   - 24小时制：如"14点"、"3时"等
   - 时间段：如"凌晨"、"早上"、"下午"、"晚上"等

## 示例对话

用户：`紫薇排盘 公历1990年1月1日子时 男`  
机器人：*（返回紫微斗数命盘结果）*

用户：`请解读一下这个命盘`  
机器人：*（返回命盘专业解读）*

用户：`继续解读`  
机器人：*（返回更详细的解读内容）*

## 技术说明

1. 本插件使用 `py-iztro` 库作为排盘计算引擎（如已安装）。
2. 若未安装 `py-iztro` 库，将使用模拟数据进行演示。
3. 命盘解读基于大模型AI进行，提供专业、详细的解读内容。

## 注意事项

1. 为获得最准确的排盘结果，建议安装 `py-iztro` 库。
2. 命盘解读仅供参考，请勿过度依赖。
3. 若解读内容较长，可能会分多条消息发送。

## 作者信息

- 插件名称：ZiweiAstro
- 版本：0.1
- 作者：undermoon_ai_bot 